name: "cargo-deny"
description: "Help manage Cargo crate dependencies and validate licenses"
author: "Embark Studios"

branding:
  icon: "slash"
  color: "red"

inputs:
  command:
    description: "The command to run with cargo-deny"
    required: false
    default: "check"
  log-level:
    description: "The log level for cargo-deny"
    required: false
    default: "warn"
  use-latest:
    description: "Always runs the latest release of cargo-deny"
    required: false
    default: "false"

runs:
  using: "docker"
  image: "Dockerfile"
  env:
    USE_LATEST: ${{ inputs.use-latest }}
  args:
    - --log-level
    - ${{ inputs.log-level }}
    - ${{ inputs.command }}
